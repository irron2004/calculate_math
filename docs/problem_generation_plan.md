# 문제 생성 엔진 기획서 1.0

---

아래 문서는 당신이 구상한 **“초2 시작 → S1(초2 표현) → S2(브리지) → S3(최상위)”** 철학을 그대로 담아, 실제 앱으로 구현하기 위한 **제품 기획(Why/What/How)**을 한 번에 볼 수 있게 정리한 **기획서 1.0**입니다.
구성: **① 전략 분석(GI × PR, 1,500자+) → ② 제품 비전·차별점·가치 → ③ 문제 생성 엔진(전략·규칙) → ④ 단계 승급(LRC)·적응형 경로 → ⑤ UX 플로우·화면 → ⑥ 데이터·평가·KPI → ⑦ 운영·법무·리스크 → ⑧ 천재적 아이디어 15+(3,000자+) → ⑨ 확인 포인트(짧게)**

---

## ① 전략 분석 — GI(천재적 통찰) × PR(문제 재정의)

### 1) GI = (O × C × P × S) / (A + B)

* **O(관찰, 9/10)**: 대다수 수학 앱은 *진도 나열+풀이 자동채점*에 머뭅니다. **문항 외형**(지문·숫자·그림)에 최적화되어 있어 **구조 전이**(같은 구조를 다른 맥락에 적용) 학습이 잘 일어나지 않습니다. 반면 본 앱은 **덧셈→등차→일차→변화율**, **비율→비례→반비례**, **누적→면적(적분 직관)** 등 **핵심 구조의 사슬**을 S1의 언어로 시작해 S3의 상위 문제까지 **끊김 없이** 끌고 갑니다.
* **C(연결, 9/10)**: **렌즈(Lens)** 개념(🔺차분/⬛누적/➗비율/📏스케일/🎲랜덤/🔄변환/🧭벡터)으로 모든 문제를 **같은 언어**로 다룹니다. 예) “등차=차분 상수=기울기 일정”, “면적=누적 합”, “닮음=스케일 불변”. 아이는 서로 다른 단원도 **같은 구조의 다른 겉옷**으로 경험합니다.
* **P(패턴, 9/10)**: 학교 고학년·수능·경시에 반복 등장하는 상위 패턴은 결국 **차분/누적/비율/스케일/무작위/변환/벡터**의 조합입니다. 우리는 이를 **태그·지식그래프**로 고정하여 **재사용 가능한 학습 경로**를 자동 구성합니다.
* **S(종합, 8/10)**: 콘텐츠(문항 템플릿)·지식그래프(선수·전이 간선)·평가(LRC)·분석(IRT/지식추적)을 하나의 엔진으로 묶습니다. 학습 경로는 고정 커리큘럼이 아니라 **아이의 데이터**로 매 시간 **재합성**됩니다.
* **A,B(고정관념/편향 최소화)**: “학년=상한” 사고를 버리고, **LRC(Leap Ready Criteria)**로 **과속만 방지**합니다.

> **결론**: ‘문항 중심’이 아닌 ‘**구조 중심**’ 앱. 초저학년도 상위 개념을 **낯설지 않게** 다루도록 설계합니다.

### 2) PR(문제 재정의) = P₀ × T × S × M

* **P₀(원문제)**: “학년·단원 순서대로 문제를 많이 풀면 오른다.”
* **T(관점 회전)**: “**같은 구조**를 다른 맥락에서 설명할 수 있으면 오른다.”
* **S(범위 조정)**: 0.1×(**원자 스킬**: 수직선 점프·단위율·표↔식 번역) ↔ 10×(**상위 구조**: 등차→일차→변화율).
* **M(메타 이동)**: 교과서→**지식그래프**. 노드(개념)·간선(선수/전이)·태그(렌즈/표현/스킬)로 **문제 생성·평가·진도**를 엔진화.

---

## ② 왜 필요한가(니즈) · 무엇이 다른가(차별점) · 우리 교육의 가치

### 1) 왜 필요한가

* **선행의 함정**: 빠른 진도=빠른 성취가 아닙니다. 계산 절차만 앞서면 **전이**가 일어나지 않아 고학년에서 급격히 막힙니다.
* **현업의 공백**: 다수 앱은 동일 틀의 문항 회전, **구조 라벨링 부재**, 설명형 평가 부재, **교사/부모가 의미를 파악하기 어려운 리포트**라는 공통 문제를 보입니다.

### 2) 차별점(핵심 6)

1. **렌즈 기반 설계**: 모든 문제에 🔺/⬛/➗/📏/🎲/🔄/🧭 태그. 아이가 스스로 “어떤 눈으로 볼까?”를 선택.
2. **S1→S2→S3 점프 구조**: **같은 구조**를 CPA(구체–그림–추상)로 **3번** 바꿔 보게 함(전이 강화).
3. **Structure-Only Test**: “외형을 벗긴” 동형(等形) 검사를 유닛 말마다 시행 → **진짜 이해** 측정.
4. **LRC 게이트**: `정확/반응시간/설명 루브릭` 3요소로 **안전한 상승**.
5. **지식그래프 경로 엔진**: 선수·전이·난이도 가중으로 **개인화 경로 자동 추천**.
6. **Explain-first 평가**: 정답 전 **설명 한 줄**부터. AI가 **핵심어/구조 언급**을 채점(아이의 개념 언어 고정).

### 3) 아이가 얻는 효과

* **메타인지**: “왜?”를 말로 먼저 쓰며 개념의 언어를 체득.
* **전이력**: 생활·데이터·도형 3맥락에 같은 구조를 적용.
* **상위 개념 친숙화**: **등차→일차→변화율**, **누적→면적**, **축척→삼각비**를 초2 표현으로 안전 도입.
* **자신감**: S3에서 “고등 개념 동형 문제”를 **낯설지 않게** 만나는 경험.

### 4) 교육과정 가치(정렬)

* **2022 개정**의 영역·과목 체계(공통수학Ⅰ·Ⅱ, 행렬 신설 등)에 **브리지 포인트**를 명시.
* 학교 수업과 **충돌**이 아니라 **증폭**: 표준 성취기준을 구조 언어로 재해석하여 **수업–앱–교습소**가 같은 말로 소통.

---

## ③ 문제 생성 엔진(전략·규칙)

### 1) 생성 철학

* **구조 우선 → 외형 후행**: “차분 상수”, “단위율·비례”, “합=면적” 같은 **핵심 구조**를 먼저 고르고, **표현**(C/P/A)과 **맥락**(생활/데이터/도형)을 마지막에 입힙니다.
* **동형 3형제(Isomorphic Triplets)**: 한 번 생성하면 **3맥락**(생활·데이터·도형)으로 자동 파생.
* **저작권 세이프**: 수능·경시·시중 교재는 **구조만 추출**해 **재저작**(숫자·문장·그림 전면 변경).

### 2) 템플릿 구조(모든 노드 공통)

```
Template = {
  concept_node,           // 예: ALG-AP 등차
  step,                   // S1/S2/S3
  lens,                   // 🔺/⬛/➗/📏/🎲/🔄/🧭
  representation,         // C(구체)/P(그림)/A(추상)
  context_pack,           // life/table/geometry
  params,                 // 숫자범위·조건(솔루션 유일성 보장)
  make_stimulus(),        // 문제 본문(표·그림·텍스트 생성)
  solve(),                // 정답·과정·핵심 문장
  distractors(),          // 오개념 기반 오답(공차-첫항 혼동 등)
  tags: {micro_skills, misconception, difficulty_est, time_s}
}
```

### 3) 단계별 생성 규칙(핵심 예시)

* **등차(🔺)**

  * *S1*: `a1∈[1..5], d∈[1..5], n≤8` / 수직선 점프·칩 / **표** 자동 채움 → “차이가 d” 문장 유도.
  * *S2*: 표→식 (a_n=a_1+d(n-1)), **좌표**에 (n,a_n) 점 / 기울기=공차.
  * *S3*: 합 (S_n) 구조(사다리/쌓기) + **설명형 루브릭**.
* **비례(➗)**

  * *S1*: 배합표(컵) / 단위율 말로 쓰기.
  * *S2*: (y=kx), 원점 직선 / 단위율=기울기.
  * *S3*: 반비례 (xy=c) 데이터 판별(속력·시간).
* **누적→면적(⬛)**

  * *S1*: 막대(폭=1)의 높이 합=면적 직관.
  * *S2*: 사다리꼴 근사·Σ 맛보기.
  * *S3*: 곡선 아래 넓이 비교와 **단위** 체크.

### 4) 품질·난이도 제어

* **수치 샘플링 제약**: 유일해/해가 자연수/분수 단순화/지나친 계산 억제.
* **오개념 오답 설계**: 공차=첫항, 단위율 누락, 높이합=면적 등 **의도적 오답**을 넣어 진단.
* **난이도 곡선**: `difficulty_est∈[0..1]`로 S1 0.2~0.4 / S2 0.4~0.6 / S3 0.6~0.8 권장.
* **검증**: `solve()`가 정답/오답을 자동 시뮬 → 유일성·범위·단위 검사.
* **설명 생성**: 모범 **핵심 문장**(키워드 포함)을 내장 → 설명형 자동 채점에 활용.

---

## ④ 단계 승급·적응형 경로(LRC & 경로 엔진)

### 1) LRC(Leap Ready Criteria)

* **기본 임계치**: `정확 ≥ 90% · 반응시간 백분위 ≥ 60 · 설명 루브릭 ≥ 3/4`.
* **승급 로직**

  * 통과 → **다음 스텝(S1→S2→S3)** 또는 **다음 노드**
  * 근접(한 항목 미달) → **동형 3형제 재도전** + **1분 드릴**
  * 미달(2항목↓) → **원자 스킬 보강**(예: “표→식 번역 60s”) 후 **재측정**

### 2) 적응형 경로(지식그래프)

* **KGMS(마스터리 점수)**: 노드별 확률(0~1)을 **지식추적**(간단 BKT 또는 IRT 기반)으로 갱신.
* **경로 추천**:

  1. 선수 미충족 노드가 있으면 **역행 보강**
  2. 전이 간선이 강한 노드는 **수평 확장**(같은 구조 새 맥락)
  3. 일정 주기로 **인터리빙**(비례↔일차, 등차↔변화율)
* **스페이싱**: LRC 통과 노드에 2–7–21일 **간격 복습** 자동 예약.

---

## ⑤ UX 플로우 & 화면 구조

### 1) 핵심 플로우

1. **온보딩 진단(10분)**: 렌즈별 미니 테스트 → S1 시작점 추천.
2. **오늘의 전이 퀘스트(15~20분)**:

   * 도입(렌즈 소개 30초) → **S1/S2/S3 세션**(3~6문항) → **설명 한 줄** → **퀵체크**.
3. **리뷰 & 스페이싱**: 동형 3형제 회상 + 1분 드릴.
4. **리포트**: 아이(배지·성장 그래프) / 부모(전이 증거 스냅샷) / 교사(오개념 히트맵).

### 2) 주요 화면

* **홈**: 오늘 목표/LRC 게이트/전이 퀘스트 버튼.
* **학습**: 상단 렌즈 토글, 좌측 표현(C/P/A) 슬라이더, 우측 **Explain-first** 입력칸.
* **지식그래프**: 현재 노드/다음 추천/보강 추천(색상 가중 표시).
* **리포트**: 정확/RT/설명품질 트렌드, 전이 모의고사 점수.
* **교사 콘솔**: 코호트별 히트맵, 수업 악보(판서 스크립트), 아이템 큐레이션.

---

## ⑥ 데이터·평가·KPI

### 1) 데이터 모델(요약)

* **ConceptNode**(id, name, lens, prereq[], transfer[])
* **ItemTemplate**(id, node_id, step, representation, context_pack, params_schema, solve(), distractors())
* **AttemptLog**(user, item_id, correct, rt_ms, explanation_text, rubric_scores)
* **Mastery**(user, node_id, p_mastery, last_seen, spaced_due)

### 2) 평가

* **정답/오답** + **RT** + **설명 루브릭(4점)**(핵심어/구조 언급/정확/일반화)
* **전이 모의고사**: 동형 8문항(생활·데이터·도형 × 3 + 낯선 2)

### 3) KPI

* **학습 성과**: 전이 모의고사 +15%p / 12주 LRC 통과 노드 수 / 설명 루브릭 평균 3.2↑
* **활성/유지**: 7일 잔존, 주별 학습 분량(분)
* **만족도**: NPS, 부모 코멘트(설명 품질 변화)

---

## ⑦ 운영·법무·리스크

* **저작권**: 외부 문항 **직접 복제 금지**. “구조 서술화→재저작” 원칙. 내부 `inspiration_only` 로그 보관.
* **품질**: 앵커 문항으로 에디션 간 난이도 등가(IRT 보정).

* **리스크**: 과속 요구(부모) → **LRC 리포트**로 설득 / 텍스트 의존(저학년) → **음성 입력·스티커 문장** 도입.

---

## ⑧ 천재적 아이디어 15+ (제품 기능·운영 확장, **3,000자+**)

1. **렌즈 토글 학습**

   * 같은 데이터에 🔺↔⬛↔➗↔📏 버튼을 누르면 **질문 자체가 바뀌는** 화면.
   * 예) 막대그래프(⬛)에서 면적 묻기 → 버튼 클릭 → 동일 데이터로 기울기(🔺) 묻기.

2. **동형 3형제 자동 렌더**

   * `context_pack = [life, table, geometry]`를 템플릿에 의무화 → 한 번 생성 시 3문항 자동.
   * 부모와 교사 리포트에는 **세 맥락의 공통 구조 문장**을 자동 요약.

3. **Explain-first 마이크로 코칭**

   * 설명 칸에 “공차” 대신 “첫항”을 쓰면 즉시 **반례 카드** 팝업(동일 수열에서 공차·첫항 비교).
   * 20초 미만 **짧은 음성 입력**도 텍스트화하여 루브릭 채점.

4. **LRC 게이트 시각화 게이지**

   * 정확/RT/설명 3바 게이지가 동시에 차는 UI.
   * 하나가 부족하면 “**동형 재도전+1분 드릴**” 버튼이 자동 추천.

5. **지식그래프 경로 추천(Explain-aware)**

   * 정답이어도 **핵심어 미등장**이면 `p_mastery` 상승폭을 줄이고, **설명 보강 노드**로 짧은 루프.
   * 반대로 설명이 풍부하면 보상 배지(“기울기 스나이퍼”).

6. **Backwards Bridge 모드**

   * 고학년 스냅샷(일차 그래프·삼각함수 파형)을 먼저 보여주고 **하위 구조로 해체**.
   * “그래프에서 등차 표를 찾아라” 미션 → 구조 거꾸로 학습.

7. **스페이싱·인터리빙 스케줄러**

   * 비례↔일차, 등차↔변화율처럼 **쌍을 이루는 스레드**를 교차 복습.
   * 아이의 RT·오답 유형에 따라 간격을 자동 조정.

8. **Teacher Score(수업 악보) 연동**

   * 교습소/학교에서 앱 화면으로 **도입–탐구–전이–메타** 순서를 띄우고, 교사 발문 스크립트를 제시.
   * 오답 히트맵은 **판서 권장 흐름**으로 자동 변환.

9. **실세계 데이터 팩(지역화)**

   * 지역 버스 간격, 기온, 학교 운동회 기록 등 **현지 자료**로 전이 문항을 생성.
   * 시즌별 교체(여름/겨울)로 신선도 유지.

10. **문장-그래프 왕복 훈련기**

   * 텍스트 설명을 주면 **자동 그래프** 생성(일차/반비례/막대), 그래프를 설명하면 **키워드 체크**.
   * 초2는 그림 중심, 고학년은 텍스트 중심으로 스위치.

11. **오개념 히트맵→생성 규칙 업데이트**

   * “공차=첫항” 같은 오개념 빈발 시, 생성 엔진이 자동으로 **그 오류를 유도하는 반례**를 다음 세션에 삽입.
   * 콘텐츠 팀은 대시보드에서 규칙 가중치를 튜닝.

12. **앵커 문항·난이도 캘리브레이션**

   * 유닛마다 2~3개 **앵커** 고정. 판이 바뀌어도 IRT로 난이도 변환 → 성취 데이터 연속성 확보.
   * 부모 리포트에 “**동일 기준 성취**”를 보여 신뢰도 상승.

13. **경제/AI 확장 브리지**

   * 공통수학Ⅰ 신설 **행렬**을 데이터/경제 미션으로 연동(재고·수송·픽셀 변환).
   * S1은 그림 합치기, S2는 2×2 연산, S3는 간단 최적화 스토리.

14. **스토리 배지·전이 챌린지**

   * ‘등차 마스터’, ‘단위율 요리사’, ‘면적 수호자’ 등 **구조 기반 배지**.
   * 주 1회 **전이 챌린지**(3맥락 동형)로 커뮤니티 경쟁.

15. **부모 코치 모드(10문장 스크립트)**

   * “이번 문제는 어떤 **렌즈**로 보이면 쉬워?” / “**단위율**이 뭐였지?” 같은 코칭 문장을 푸시.
   * 가정에서의 피드백 품질이 곧 유지율.

16. **접근성·연령 최적화**

   * **음성 입력**(아이 말) → 핵심어 색칠 / **큰 버튼**(저학년) / **색약 안전 팔레트** / **오프라인 모드**.

17. **교사·크리에이터 마켓(선택)**

   * 전이 세트(동형 3형제) 제작·거래. 템플릿·태그 표준을 공개하여 생태계 확대.

---

## ⑨ 확인 포인트(짧게)

* **대상 연령 우선순위**: 초2~초6 전용으로 먼저 갈지, 중등까지 동시 타깃으로 갈지?
* **교습소 연동 범위**: 교사 콘솔 1.0에 어떤 기능부터(악보/히트맵/과제 배포)?
* **설명형 입력 방식**: 텍스트+음성 모두? 음성 전사 도입 시점?
* **데이터 보존 정책**: 부모 리포트용 캡처(설명 스냅샷) 저장 기간/동의 방식?

---

## 부록: “문제를 어떻게 생성하고, 어떻게 다음 단계로 넘어가나” 한 장 요약

**문제 생성** = [노드·렌즈·표현·맥락·난이도] 선택 → 파라미터 샘플링(유일성/단위/수치 제약) → **지문/표/그림 조립** → 정답/과정/핵심문장 생성 → 오개념 오답 구성 → 태그 저장.

**승급 규칙(LRC)** = 6문항 퀵체크 + 1문장 설명 → `정확≥90% & RT≥60백분위 & 설명≥3/4` → 승급. 미달 시 **동형 재도전 + 1분 드릴** → 재측정.

**경로 엔진** = `p_mastery` 업데이트 → **선수 보강/수평 전이/인터리빙/스페이싱** 자동 추천.

---

원하시면 이 기획서를 바로 **제품 요구사항 문서(PRD)** 형태로 변환하여, **데이터 모델 JSON 스키마**, **화면 와이어프레임 목록**, **첫 12주 로드맵**까지 확장해 드릴 수 있습니다.
