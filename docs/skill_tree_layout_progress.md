# Skill Tree Auto Layout Progress (2025-10-27)

## What was done
- 목적: ELK 기반 자동 레이아웃을 실제 그래프 렌더링에 적용하고, 다중 자식 엣지를 번들 처리해 가독성을 높이기.
- 구현 요약:
  - `elkjs` layered 레이아웃(`NETWORK_SIMPLEX`)을 그룹 단위로 수행하고, 실패 시 커스텀 정렬 fallback 유지.
  - 레이아웃 계산 결과를 캐싱해 동일 그래프 요청 시 즉시 재사용, 계산 중에는 로딩 오버레이로 UX 보강.
  - 부모→다중 자식 엣지는 버스 라인 + 분기 세그먼트로 묶어 렌더링.
  - 기존 줌/포커스/하이라이트, 상태 배지 로직과 자연스럽게 통합.

## Observed result
- 엣지 교차와 겹침이 눈에 띄게 감소하여 경로 추적이 쉬워짐.
- 다중 자식이 있는 부모는 버스 라인으로 묶여 엣지가 겹치지 않음.
- 레이아웃 계산이 캐시되어 동일 상황에서 즉시 렌더링.
- React/Vite 빌드 성공 (`npm run build` 통과).

## Next steps (remaining work)
1. **성능 튜닝 / 모니터링**  
   - 현재 캐싱은 메모리 기반 → 크게 늘어날 경우 스토리지/TTL 검토.
   - 대규모 그래프에서의 레이아웃 시간/UX 피드백 수집.
2. **교차 최소화 검증**  
   - Before/After 시각화를 캡처하거나 테스트 스냅샷으로 비교.
   - 노드-엣지 교차 횟수를 계산하는 유틸리티 추가 검토.
3. **UX 연계**  
   - 레이아웃이 바뀐 뒤에도 줌/포커스/하이라이트 모드가 그대로 동작하는지 e2e 검증.

> 현재는 “커스텀 정렬 방식으로 개선을 시작했으며, 다음 단계로 ELK를 시도한다”는 단계입니다.  
> 위 리스트를 따라가며 기능/문서/테스트를 보완해 주세요.
