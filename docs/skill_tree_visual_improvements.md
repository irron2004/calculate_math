# Skill Tree Visual Improvements (2025-10-27)

## Quick Wins Applied
- **상태 메타 단일화**: `SKILL_STATE_META`와 `i18n` 키로 잠김/해금/완료/마스터 상태를 공통 관리.
- **노드 카드 리디자인**: 상태 배지·아이콘·이중선/점선 규칙, 마스터 배지(★) 적용.
- **엣지 가독성 강화**: 줌 비율에 따른 stroke 보정, 점선 애니메이션, 화살표/글로우, 포커스 디밍.
- **포커스/고대비/줌 컨트롤**: 상단 툴바에서 0.6~1.6 배율, 100% 리셋, 고대비 토글, 포커스 해제 지원.
- **언락 피드백**: `useUnlockFx`로 새 노드 scale-in + glow, 라이브 리전에 음성 안내.
- **툴팁/요구조건 안내**: 잠김 노드에서 선행 스킬 목록을 문자열 리스트로 출력.
- **접근성 보강**: `aria-live`, `aria-describedby`, `prefers-reduced-motion` 대응, 포커스 링 유지.
- **분석 이벤트 확장**: 줌/고대비/포커스 모드 토글을 telemetry(`skill_tree_zoom_changed` 등)로 기록.
- **ELK 레이아웃 + 캐싱**: `elkjs` layered 레이아웃을 적용하고, 메모리 캐시·로딩 오버레이로 UX 향상.
- **엣지 버스 라인**: 부모가 다중 자식을 가질 때 버스 라인 + 분기 세그먼트로 렌더링해 교차 감소.

## Pending / Next Steps
1. **레이아웃 고도화** *(ELK layered 레이아웃 적용 완료)*  
   - 현재: 그룹별 ELK 레이아웃으로 좌표 결정, 실패 시 커스텀 정렬 fallback 유지.  
   - 다음: 버스 라인/엣지 번들링 및 레이아웃 캐싱·성능 튜닝 검토.
2. **API 확장**  
   - `POST /api/v1/skills/progress` 응답에 `new_unlocked_ids` 추가.  
   - 요구조건 `requires_titles` 필드 백엔드에서 제공.
3. **모바일 정보량 절감**  
   - 렌즈/티어 필터 탭, 이웃만 보기 모드, 리스트/그래프 토글.
4. **보스/티어 연출 업그레이드**  
   - 보스 노드 전용 카드 스타일, 티어 해금 토스트/배너.  
   - 노드 해금 시 엣지 애니메이션 강화(펄스/경로 하이라이트).
5. **테스트/품질**  
   - Playwright + axe e2e 시나리오 작성(줌/고대비/포커스).  
   - Storybook 스토리와 스냅샷으로 SkillNodeCard 리그레션 방지.
6. **문구/번역**  
   - `skill.json` 다국어 확장, i18n 키를 FE 전역으로 통일.  
   - 잠금 안내 문구, 상태별 툴팁 카피 확정.

> 위 목록을 “앞으로 할 일” 로드맵의 기준으로 활용하세요. PR 작성 시 빠르게 참조할 수 있도록 최신 상태를 갱신해 두었습니다.
