# 2022 개정 수학 교육과정 선행학습 연결 추가

**작업일**: 2026-01-27
**작업자**: Claude Opus 4.5
**상태**: 완료

---

## 1. 배경 및 문제점

### 1.1 현황
- `/author/research-graph` 페이지에서 커리큘럼 그래프가 표시되지 않는 문제 발생
- 기존 `curriculum_math_2022.json` 데이터에는 노드(단원)들은 존재했으나, **textbookUnit 간의 prereq(선행학습) 연결이 전무**
- 기존에는 `alignsTo`(단원↔성취기준), `contains`(계층구조) 연결만 존재
- 성취기준 간 prereq는 3개만 존재: `2수01-01→2수01-02`, `4수01-01→4수01-04`, `6수01-06→6수01-08`

### 1.2 목표
- textbookUnit(교과서 단원) 노드들 간의 학습 순서를 정의하는 prereq 연결 추가
- 학습 스킬 트리 형태의 그래프 구현

---

## 2. 작업 내용

### 2.1 데이터 분석

#### 현재 textbookUnit 노드 구조

| 학년군 | 도메인 | 노드 ID | 총 개수 |
|--------|--------|---------|---------|
| **초등 1-2학년** | NA (수와 연산) | 2수01-A, 2수01-B, 2수01-C | 3 |
| | RR (변화와 관계) | 2수02-A | 1 |
| | GM (도형과 측정) | 2수03-A~E | 5 |
| | DP (자료와 가능성) | 2수04-A, 2수04-B | 2 |
| **초등 3-4학년** | NA | 4수01-A~G | 7 |
| | RR | 4수02-A~C | 3 |
| | GM | 4수03-A~H | 8 |
| | DP | 4수04-A~C | 3 |
| **초등 5-6학년** | NA | 6수01-A~H | 8 |
| | RR | 6수02-A, 6수02-B | 2 |
| | GM | 6수03-A~C | 3 |
| | DP | 6수04-A, 6수04-B | 2 |

**총 textbookUnit 노드: 47개**

### 2.2 추가된 prereq 연결

**textbookUnit 간 prereq 연결: 총 56개 (전체 prereq 59개)**

#### NA (수와 연산) 영역 - 25개

```
[1-2학년군]
2수01-A (네 자리 이하의 수)
    ↓ prereq
2수01-B (두 자리 수 범위의 덧셈과 뺄셈)
    ↓ prereq
2수01-C (한 자리 수의 곱셈)

[학년군 간 연결]
2수01-A → 4수01-A (수 확장)
2수01-B → 4수01-D (덧셈/뺄셈 확장)
2수01-C → 4수01-E (곱셈 확장)

[3-4학년군]
4수01-A (다섯 자리 이상의 수) → 4수01-D (세 자리 수의 덧셈과 뺄셈)
4수01-D → 4수01-E (자연수의 곱셈과 나눗셈)
4수01-B (분수) → 4수01-F (분모가 같은 분수의 덧셈과 뺄셈)
4수01-C (소수) → 4수01-G (소수의 덧셈과 뺄셈)

[3-4 → 5-6학년군]
4수01-A → 6수01-A (수의 범위와 어림)
4수01-D, 4수01-E → 6수01-B (자연수의 혼합 계산)
4수01-E → 6수01-C (약수와 배수)
4수01-B, 4수01-F → 6수01-D (분수의 덧셈과 뺄셈)
4수01-B, 4수01-C → 6수01-F (분수와 소수의 관계)
4수01-C, 4수01-G → 6수01-G (소수의 곱셈과 나눗셈)
4수01-E, 4수01-B, 4수01-C → 6수01-H (나눗셈에서의 몫 표현)

[5-6학년군]
6수01-C → 6수01-D (통분)
6수01-D → 6수01-E (분수의 곱셈과 나눗셈)
6수01-F → 6수01-G
```

#### RR (변화와 관계) 영역 - 5개

```
2수02-A (규칙)
    ↓
4수02-A (규칙) → 4수02-B (동치 관계) → 4수02-C (대응 관계)
                                              ↓
                                        6수02-A (비와 비율) → 6수02-B (비례식과 비례배분)
                                              ↑
                                    4수01-E (나눗셈 개념 필요)
```

#### GM (도형과 측정) 영역 - 17개

```
[평면도형 계열]
2수03-B (평면도형과 그 구성 요소)
    ↓
4수03-A (도형의 기초)
    ├→ 4수03-B (원의 구성 요소)
    ├→ 4수03-C (여러 가지 삼각형)
    └→ 4수03-D (여러 가지 사각형)
            ↘    ↓
             4수03-E (다각형)
                ↓
             4수03-F (평면도형의 이동)
                ↓
             6수03-A (합동과 대칭)

[입체도형 계열]
2수03-A (입체도형의 모양)
    ↓
6수03-B (입체도형)
    ↓
6수03-C (도형의 측정: 겉넓이/부피)

[측정 계열]
2수03-C (양의 비교) ─┬→ 4수03-H (긴 길이/들이/무게/각도 측정)
2수03-E (길이 측정) ─┘                ↓
                               6수03-C (도형의 측정)
                                    ↑
4수03-B (원의 구성 요소) ────────────┤ (원주율, 원의 넓이)
4수03-E (다각형) ───────────────────┘ (다각형 넓이)

[시간 계열]
2수03-D (시각과 시간) → 4수03-G (시각과 시간(초))
4수03-H (측정) → 4수03-G (시간 단위 확장)
```

#### DP (자료와 가능성) 영역 - 5개

```
2수04-A (자료의 분류)
    ↓
2수04-B (표와 그림그래프)
    ↓
4수04-A (막대그래프)
    ↓
4수04-B (꺾은선그래프)
    ↓
6수04-A (띠그래프와 원그래프)

4수04-C (평균) → 6수04-B (가능성)
```

#### 도메인 간 연결 - 4개

```
2수01-A (수 개념) → 2수04-A (자료의 분류)
4수01-D (덧셈/뺄셈) → 4수03-H (측정)
4수01-E (곱셈/나눗셈) → 4수04-C (평균)
4수01-E (나눗셈) → 6수02-A (비와 비율)
```

---

## 3. 수정된 파일

### 3.1 변경 파일

| 파일 경로 | 변경 내용 |
|-----------|-----------|
| `public/data/curriculum_math_2022.json` | prereq 연결 59개 반영 |
| `curriculum-viewer/public/data/curriculum_math_2022.json` | 위 파일과 동기화 |

### 3.2 변경 전후 비교

| 항목 | 변경 전 | 변경 후 |
|------|---------|---------|
| prereq 연결 (성취기준 간) | 3개 | 3개 |
| prereq 연결 (textbookUnit 간) | 0개 | **56개** |
| 총 prereq 연결 | 3개 | **59개** |

---

## 4. 연결 설계 원칙

### 4.1 학년군 내 연결
- 같은 도메인 내에서 학습 순서가 명확한 단원들을 연결
- 예: 수 개념 → 덧셈/뺄셈 → 곱셈

### 4.2 학년군 간 연결
- 선행 학년군의 기초 개념이 후행 학년군의 심화 개념으로 확장
- 예: 2수01-A (네 자리 이하의 수) → 4수01-A (다섯 자리 이상의 수)

### 4.3 도메인 간 연결
- 필수적인 선수 개념이 다른 도메인에 있는 경우 연결
- 예: 4수01-E (자연수의 곱셈과 나눗셈) → 6수02-A (비와 비율)
  - 비의 정의가 "두 양을 나누어 비교"이므로 나눗셈 개념 필수

### 4.4 연결 근거
- 2022 개정 교육과정의 성취기준 간 관계 분석
- 기존 연구 패치 파일(T1, T2, T3)의 제안 내용 참고
- 교육학적 타당성 검토

---

## 5. 검증 방법

### 5.1 데이터 검증
```bash
# prereq 연결 개수 확인
grep -c '"edgeType": "prereq"' curriculum-viewer/public/data/curriculum_math_2022.json
# 결과: 59
```

### 5.2 UI 검증
1. 개발 서버 실행: `cd curriculum-viewer && npm run dev`
2. 브라우저에서 `http://localhost:5174/author/research-graph` 접속
3. 확인 사항:
   - 도메인별 노드 표시 여부
   - prereq 연결선 표시 여부 (빨간색 실선)
   - 도메인 필터 동작 여부

---

## 6. 향후 개선 사항

### 6.1 중등/고등 교육과정 연결
- 현재는 초등(1-6학년) 범위만 연결됨
- 중등수학, 고등수학 노드 추가 시 연결 확장 필요

### 6.2 연구 패치 적용
- T1, T2, T3 연구 패치의 제안 엣지 검토 및 수용
- 제안된 노드(P_TU_solid_figures_bridge 등) 검토

### 6.3 순환 참조 검사
- 그래프에 cycle이 없는지 주기적 검증 필요
- AuthorResearchGraphPage에 cycle 감지 기능 있음

---

## 7. 참고 자료

- 2022 개정 교육과정 공식 문서: [교육부 고시 제2022-33호](https://www.moe.go.kr/boardCnts/viewRenew.do?boardID=141&boardSeq=93458)
- 국가교육과정정보센터(NCIC): https://ncic.re.kr
- 프로젝트 문서: `docs/2022_curriculum.md`
