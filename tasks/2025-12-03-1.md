# Task 2025-12-03-1 — Skill Tree UX Alignment

## Problem Statement
- **Viewport is too narrow**: `SkillTreeGraph` clamps width to a fixed 760 px per course group and defaults to zoom=1, so large DAGs render as a cramped strip and users never see the full layout without heavy manual panning.
- **Hover/tooltip collisions**: Nodes have minimal spacing (150 px columns, 110 px rows). When hovering, labels/tooltip cards overlap neighboring nodes, obscuring the state badge and new Diablo-style highlight.
- **Edges terminate mid-air**: We draw cubic curves from node center to node center; with dense rows the arrows appear to connect to other edges rather than the target node, confusing progression cues.
- **Fragmented flows**: Student dashboard (`/student`) still surfaces the legacy S1/S2/S3 HomePath map and launches `/game` directly, while the new Skill Tree lives on `/skills`. There is no continuity between “수학 게임 시작하기” and the skill that was just explored, defeating the roadmap narrative.
- **Course-step labels vs. actual tiers**: HomePathMap uses the legacy `STEP_ORDER = [S1, S2, S3]`, so the dashboard contradicts the Diablo-style tiering in `/skills`.

## Proposed Direction
1. **Responsive layout & auto-fit**
   - Replace hard-coded `PANEL_WIDTH`/`NODE_COLUMN_SPACING` with viewport-relative calculations (or migrate to React Flow’s layout/viewport utilities) so the canvas always opens in a “fit to view” state.
   - Allow the Selected Skill panel to collapse/overlay on small screens so the graph can use the full width.
2. **Interaction polish**
   - Increase tier spacing or compute it dynamically based on node height.
   - Add hover hitboxes + z-indexed tooltips that sit above other nodes, and dim unrelated nodes while hovering.
   - Draw edges using node boundaries/ports instead of center-to-center curves; add arrowheads that land on the node body.
3. **Unified student experience**
   - Merge the Skill Tree into the student dashboard (or make `/skills` the primary landing) so learners start from the Diablo-style view.
   - When “연습 시작” is triggered, pass the selected skill ID into the practice/session route instead of launching `/game` with arbitrary problems.
   - Update HomePathMap (or replace it entirely) to derive tiers/labels from the new DAG rather than fixed S1/S2/S3 strings.
4. **Onboarding clarity**
   - Before starting a session, show a short confirmation modal summarizing the chosen skill, required prerequisites, and what the practice set will cover.

## Acceptance Criteria
- Opening `/skills` or the unified dashboard shows the entire tiered graph within the viewport without manual zooming, and resizing the window keeps it legible.
- Hovering or focusing a node produces a tooltip/panel that never overlaps neighboring nodes; unrelated nodes are visually deemphasized.
- Connector arrows visibly terminate on their target nodes (no mid-air junctions), and bundled edges remain readable.
- “수학 게임 시작하기” launches a session scoped to the currently selected skill; the learner understands why those problems appear.
- Dashboard visuals (HomePathMap or replacement) reference the same course tiers as the Skill Tree—no stale S1/S2/S3 copy.

## Dependencies & Notes
- Layout changes live entirely in `frontend/src/components/SkillTreeGraph.tsx` and CSS; no backend schema change is required.
- Flow merge likely needs UX alignment (decide whether `/skills` replaces `/student` or vice versa).
- Practice session API already accepts config payloads; we just need to pass the selected skill ID/step.
