[
  {
    "id": "ALG-AP-S1-001",
    "concept": "ALG-AP",
    "step": "S1",
    "lens": ["difference"],
    "representation": "C",
    "context_pack": ["life"],
    "parameters": {
      "start": {"type": "int", "min": 4, "max": 9},
      "jump": {"type": "int", "min": 1, "max": 5}
    },
    "computed_values": {
      "next_value": "start + jump"
    },
    "prompt": "시작값 {start}에서 {jump}씩 한 번 점프하면 어떤 수가 되나요?",
    "explanation": "시작값 {start}에서 {jump}만큼 증가합니다.",
    "answer_expression": "start + jump",
    "option_offsets": [-2, -1, 3],
    "rubric_keywords": ["시작값", "차이", "더한다"]
  },
  {
    "id": "ALG-AP-S2-001",
    "concept": "ALG-AP",
    "step": "S2",
    "lens": ["difference"],
    "representation": "P",
    "context_pack": ["table"],
    "parameters": {
      "a1": {"type": "int", "min": 3, "max": 8},
      "d": {"type": "int", "min": 2, "max": 5},
      "n": {"type": "int", "min": 4, "max": 6}
    },
    "computed_values": {
      "nth_value": "a1 + d * (n - 1)"
    },
    "prompt": "첫째항 {a1}, 공차 {d}인 수열에서 {n}번째 항의 값을 구하세요.",
    "explanation": "첫째항에서 공차를 {n}-1번 더합니다.",
    "answer_expression": "a1 + d * (n - 1)",
    "option_offsets": ["-d", "d", "2 * d"],
    "rubric_keywords": ["공차", "n-1", "더한다"]
  },
  {
    "id": "ALG-AP-S3-001",
    "concept": "ALG-AP",
    "step": "S3",
    "lens": ["difference"],
    "representation": "A",
    "context_pack": ["geometry"],
    "parameters": {
      "a1": {"type": "int", "min": 2, "max": 6},
      "d": {"type": "int", "min": 1, "max": 4},
      "n": {"type": "int", "min": 4, "max": 6}
    },
    "computed_values": {
      "nth_value": "a1 + d * (n - 1)",
      "sum_value": "n * (2 * a1 + (n - 1) * d) // 2"
    },
    "prompt": "첫째항 {a1}, 공차 {d}인 수열의 처음 {n}개의 합을 구하세요.",
    "explanation": "사다리꼴 넓이 공식을 떠올려 합을 계산합니다.",
    "answer_expression": "n * (2 * a1 + (n - 1) * d) // 2",
    "option_offsets": ["-d * n", "d * n", "2 * d * n"],
    "rubric_keywords": ["사다리꼴", "n/2", "(a1+an)"]
  },
  {
    "id": "RAT-PRO-S1-001",
    "concept": "RAT-PRO",
    "step": "S1",
    "lens": ["ratio"],
    "representation": "C",
    "context_pack": ["life"],
    "parameters": {
      "cups": {"type": "int", "min": 2, "max": 5},
      "unit": {"type": "int", "min": 1, "max": 3},
      "flavor": {"type": "choice", "choices": ["딸기", "망고", "블루베리"]}
    },
    "computed_values": {
      "total_syrup": "cups * unit"
    },
    "prompt": "{flavor} 시럽 {total_syrup}스푼으로 음료 {cups}잔을 만들었습니다. 1잔에 들어가는 시럽은 몇 스푼인가요?",
    "explanation": "전체 스푼 수를 잔 수로 나눕니다.",
    "answer_expression": "unit",
    "option_offsets": [-1, 1, 2],
    "rubric_keywords": ["단위율", "1잔", "나눈다"]
  },
  {
    "id": "RAT-PRO-S2-001",
    "concept": "RAT-PRO",
    "step": "S2",
    "lens": ["ratio"],
    "representation": "P",
    "context_pack": ["table"],
    "parameters": {
      "k": {"type": "int", "min": 2, "max": 6},
      "x": {"type": "int", "min": 2, "max": 6}
    },
    "computed_values": {
      "y": "k * x"
    },
    "prompt": "y=kx 비례식에서 k={k}, x={x}일 때 y의 값을 구하세요.",
    "explanation": "단위율 k를 x에 곱합니다.",
    "answer_expression": "k * x",
    "option_offsets": ["-k", "k", "2 * k"],
    "rubric_keywords": ["기울기", "원점", "곱"]
  },
  {
    "id": "RAT-PRO-S3-001",
    "concept": "RAT-PRO",
    "step": "S3",
    "lens": ["ratio"],
    "representation": "A",
    "context_pack": ["data"],
    "parameters": {
      "constant": {"type": "int", "min": 24, "max": 48, "step": 4},
      "x": {"type": "int", "min": 3, "max": 6}
    },
    "computed_values": {
      "y": "constant // x"
    },
    "prompt": "xy=c 반비례 관계에서 c={constant}, x={x}일 때 y의 값을 구하세요.",
    "explanation": "곱이 일정하므로 c를 x로 나눕니다.",
    "answer_expression": "constant // x",
    "option_offsets": [-2, 2, 4],
    "rubric_keywords": ["곱", "반비례", "나눈다"]
  },
  {
    "id": "GEO-LIN-S1-001",
    "concept": "GEO-LIN",
    "step": "S1",
    "lens": ["difference", "scale"],
    "representation": "C",
    "context_pack": ["geometry"],
    "parameters": {
      "x": {"type": "int", "min": 1, "max": 4},
      "slope": {"type": "int", "min": 1, "max": 3},
      "y_intercept": {"type": "int", "min": 1, "max": 5}
    },
    "computed_values": {
      "y": "slope * x + y_intercept"
    },
    "prompt": "기울기 {slope}, 절편 {y_intercept}인 직선에서 x={x}일 때 y 값을 구하세요.",
    "explanation": "기울기에 x를 곱하고 절편을 더합니다.",
    "answer_expression": "slope * x + y_intercept",
    "option_offsets": ["-slope", "slope", "2 * slope"],
    "rubric_keywords": ["기울기", "절편", "곱하고 더한다"]
  },
  {
    "id": "GEO-LIN-S2-001",
    "concept": "GEO-LIN",
    "step": "S2",
    "lens": ["scale", "difference"],
    "representation": "P",
    "context_pack": ["data"],
    "parameters": {
      "x1": {"type": "int", "min": 1, "max": 4},
      "y1": {"type": "int", "min": 2, "max": 6},
      "slope": {"type": "int", "min": 1, "max": 3}
    },
    "computed_values": {
      "x2": "x1 + 1",
      "y2": "y1 + slope"
    },
    "prompt": "점 ({x1}, {y1})을 지나고 기울기가 {slope}인 직선에서 x={x2}일 때 y를 예측하세요.",
    "explanation": "기울기만큼 y가 증가합니다.",
    "answer_expression": "y2",
    "option_offsets": ["-slope", "slope", "2 * slope"],
    "rubric_keywords": ["기울기", "증가량", "예측"]
  },
  {
    "id": "GEO-LIN-S3-001",
    "concept": "GEO-LIN",
    "step": "S3",
    "lens": ["scale", "difference"],
    "representation": "A",
    "context_pack": ["geometry"],
    "parameters": {
      "slope": {"type": "int", "min": 1, "max": 4},
      "y_intercept": {"type": "int", "min": 0, "max": 4},
      "x": {"type": "int", "min": 5, "max": 8}
    },
    "computed_values": {
      "y": "slope * x + y_intercept",
      "area": "(y_intercept + y) * x // 2"
    },
    "prompt": "기울기 {slope}, 절편 {y_intercept}인 직선 아래에서 x=0부터 x={x}까지 삼각형 면적을 구하세요.",
    "explanation": "밑변 x와 높이 평균을 곱합니다.",
    "answer_expression": "(y_intercept + slope * x + y_intercept) * x // 2",
    "option_offsets": ["-slope * x", "slope * x", "2 * slope * x"],
    "rubric_keywords": ["면적", "삼각형", "(윗변+아랫변)/2"]
  }
]
